.week-timeline-container{padding:8px;background:#f9fafb;border-radius:12px;box-shadow:0 1px 3px rgba(0,0,0,.1);position:relative;user-select:none;overflow:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:#c1c1c1 #f1f1f1}
.color-mode-toggle{backdrop-filter:blur(10px)}
.toggle-button{background:linear-gradient(135deg,#e5e7eb,#f3f4f6);color:#6b7280;border:2px solid transparent;cursor:pointer;user-select:none}
.toggle-button:hover{transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.1)}
.toggle-button:active{transform:translateY(0)}
.toggle-button.active-environment{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af;border-color:#3b82f6}
.toggle-button.active-tasktype{background:linear-gradient(135deg,#ddd6fe,#c4b5fd);color:#5b21b6;border-color:#8b5cf6}
.week-timeline-svg{display:block;background:#f9fafb;border-radius:12px;user-select:none;flex-shrink:0}
.week-timeline-svg text,.week-timeline-svg rect,.week-timeline-svg circle{user-select:none}
.week-timeline-svg text{pointer-events:none}
.task-rect{transition:filter .15s}
.task-rect:hover{filter:brightness(1.05)}
.task-inner,.task-type-indicator,.task-text{pointer-events:none}
.task-rect.cursor-grab{cursor:grab!important}
.task-rect.cursor-grabbing{cursor:grabbing!important}
.task-rect.cursor-resize-v{cursor:ns-resize!important}
.resize-handle{pointer-events:auto;cursor:ns-resize;opacity:.3;transition:opacity .2s,fill .2s}
.resize-handle:hover{opacity:1!important;fill:rgba(99,102,241,.6)!important}
.resize-handle-line{pointer-events:none;opacity:.3;transition:opacity .2s,stroke .2s}
.task-group:hover .resize-handle-line{opacity:.6;stroke:rgba(0,0,0,.5)}
.resize-handle:hover+.resize-handle-line{opacity:1!important;stroke:rgba(99,102,241,.9)!important;stroke-width:2px!important}
.week-navigation{backdrop-filter:blur(10px)}
.nav-btn{user-select:none;cursor:pointer;transition:all .2s}
.nav-btn:hover{transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.1)}
.nav-btn:active{transform:translateY(0)}
.week-display{min-width:200px;text-align:center;user-select:text!important}
.date-picker{min-width:120px;user-select:text!important}
.week-timeline-container::-webkit-scrollbar{width:6px;height:6px}
.week-timeline-container::-webkit-scrollbar-track,.task-selector-list::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}
.week-timeline-container::-webkit-scrollbar-thumb,.task-selector-list::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}
.week-timeline-container::-webkit-scrollbar-thumb:hover,.task-selector-list::-webkit-scrollbar-thumb:hover{background:#a8a8a8}
.tooltip-container{animation:fi .3s;pointer-events:none;z-index:1000;border:2px solid rgba(255,255,255,.1)}
@keyframes fi{from{opacity:0;transform:translateX(-50%) translateY(-10px)}to{opacity:1;transform:translateX(-50%)}}
.cursor-pointer:not(.task-rect):not(.task-inner){cursor:pointer}
.cursor-pointer:not(.task-rect):not(.task-inner):hover{opacity:.9;filter:brightness(1.1)}
.timeline-wrapper{display:flex;flex-direction:column;width:100%;position:relative}
.days-indicator{width:100%;height:60px;flex-shrink:0;overflow-x:auto;overflow-y:hidden;position:sticky;top:0;z-index:10;background:#f9fafb;border-bottom:2px solid #e5e7eb;scrollbar-width:none;-ms-overflow-style:none}
.days-indicator::-webkit-scrollbar{display:none}
.days-indicator-svg{display:block;height:60px;min-width:100%}
.timeline-content-wrapper{display:flex;width:100%;flex:1;position:relative}
.hours-indicator{width:60px;flex-shrink:0;overflow-y:auto;overflow-x:hidden;position:sticky;left:0;z-index:10;background:#f9fafb;border-right:2px solid #e5e7eb;scrollbar-width:none;-ms-overflow-style:none}
.hours-indicator::-webkit-scrollbar{display:none}
.hours-indicator-svg{display:block;width:60px;min-height:100%}
.svg-scroll-container{flex:1;width:100%;height:600px;max-height:calc(100vh - 300px);overflow:auto;position:relative;scrollbar-width:thin;scrollbar-color:#c1c1c1 #f1f1f1}
.svg-scroll-container::-webkit-scrollbar{width:8px;height:8px}
.svg-scroll-container::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}
.svg-scroll-container::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}
.svg-scroll-container::-webkit-scrollbar-thumb:hover{background:#a8a8a8}
.svg-container{width:100%;display:flex;justify-content:flex-start;min-width:fit-content}
@media(min-width:1280px){.svg-container{justify-content:center}}
.context-menu{position:fixed;background:#fff;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);z-index:10000;min-width:200px;max-width:280px;overflow:hidden;animation:cf .15s}
@keyframes cf{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}
.context-menu-header{padding:12px 16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;font-size:14px}
.context-menu-header .truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}
.context-menu-divider,.task-selector-divider{height:1px;background:#e5e7eb}
.context-menu-item{width:100%;padding:12px 16px;text-align:left;border:none;background:#fff;cursor:pointer;display:flex;align-items:center;font-size:14px;color:#374151;transition:background .15s}
.context-menu-item:hover{background:#f3f4f6}
.context-menu-item.delete{color:#ef4444}
.context-menu-item.delete:hover{background:#fef2f2}
.context-menu-item-completed{color:#10b981}
.context-menu-item-completed:hover{background:#ecfdf5}
.context-menu-item-progress{color:#f59e0b}
.context-menu-item-progress:hover{background:#fffbeb}
.context-menu-item-pending{color:#3b82f6}
.context-menu-item-pending:hover{background:#eff6ff}
.context-menu-item-edit{color:#8b5cf6}
.context-menu-item-edit:hover{background:#f5f3ff}
.context-menu-item i{width:20px;text-align:center}
.task-hidden{opacity:.5}
.task-hidden text{fill:#888!important}
.preview-shadow{pointer-events:none}
.task-overdue{filter:drop-shadow(0 0 3px rgba(239,68,68,.5)) drop-shadow(0 0 6px rgba(239,68,68,.3));animation:op 1.5s infinite}
@keyframes op{0%,100%{filter:drop-shadow(0 0 3px rgba(239,68,68,.5)) drop-shadow(0 0 6px rgba(239,68,68,.3))}50%{filter:drop-shadow(0 0 4px rgba(255,255,255,.8)) drop-shadow(0 0 8px rgba(255,255,255,.4))}}
.task-running{filter:drop-shadow(0 0 3px rgba(16,185,129,.5)) drop-shadow(0 0 6px rgba(16,185,129,.3));animation:rp 1.5s infinite}
@keyframes rp{0%,100%{filter:drop-shadow(0 0 3px rgba(16,185,129,.5)) drop-shadow(0 0 6px rgba(16,185,129,.3))}50%{filter:drop-shadow(0 0 4px rgba(255,255,255,.8)) drop-shadow(0 0 8px rgba(255,255,255,.4))}}
.task-overlapping.task-overdue{filter:drop-shadow(0 0 2px rgba(239,68,68,.2)) drop-shadow(0 0 4px rgba(239,68,68,.12));animation:opo 1.5s infinite}
@keyframes opo{0%,100%{filter:drop-shadow(0 0 2px rgba(239,68,68,.2)) drop-shadow(0 0 4px rgba(239,68,68,.12))}50%{filter:drop-shadow(0 0 3px rgba(255,255,255,.3)) drop-shadow(0 0 6px rgba(255,255,255,.15))}}
.task-overlapping.task-running{filter:drop-shadow(0 0 2px rgba(16,185,129,.2)) drop-shadow(0 0 4px rgba(16,185,129,.12));animation:rpo 1.5s infinite}
@keyframes rpo{0%,100%{filter:drop-shadow(0 0 2px rgba(16,185,129,.2)) drop-shadow(0 0 4px rgba(16,185,129,.12))}50%{filter:drop-shadow(0 0 3px rgba(255,255,255,.3)) drop-shadow(0 0 6px rgba(255,255,255,.15))}}
.task-selector-menu{position:fixed;background:#fff;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.18);z-index:10001;min-width:280px;max-width:360px;overflow:hidden;animation:ts .2s}
@keyframes ts{from{opacity:0;transform:scale(.92) translateY(-8px)}to{opacity:1;transform:scale(1)}}
.task-selector-header{padding:14px 18px 8px;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;display:flex;align-items:center;font-size:15px}
.task-selector-subtitle{padding:0 18px 12px;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:rgba(255,255,255,.85);font-size:12px}
.task-selector-list{max-height:300px;overflow-y:auto;padding:8px 0}
.task-selector-item{width:100%;padding:12px 16px;text-align:left;border:none;background:#fff;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:14px;color:#374151;transition:all .15s;border-left:4px solid transparent}
.task-selector-item:hover{background:linear-gradient(90deg,rgba(99,102,241,.08),rgba(139,92,246,.04));transform:translateX(2px)}
.task-selector-item-content{flex:1;min-width:0}
.task-selector-item-name{font-weight:500;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}
.task-selector-item-time{font-size:11px;color:#6b7280}
.task-selector-item-icon{color:#9ca3af;font-size:12px;margin-left:12px;transition:all .15s}
.task-selector-item:hover .task-selector-item-icon{color:#6366f1;transform:translateY(-2px)}
.task-selector-list::-webkit-scrollbar{width:6px}
.controls-row{display:flex;flex-wrap:wrap;gap:.75rem}
.zoom-controls,.weekend-toggle{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fff;border-radius:.5rem;box-shadow:0 1px 3px rgba(0,0,0,.1);border:1px solid #e5e7eb}
.weekend-toggle label{display:flex;align-items:center;gap:.5rem;cursor:pointer;user-select:none}
.weekend-toggle input[type="checkbox"]{appearance:none;-webkit-appearance:none;-moz-appearance:none}
.weekend-toggle .relative{position:relative;display:inline-block}
.weekend-toggle input.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}
.weekend-toggle input:checked+.w-12{background-color:#4f46e5}
.weekend-toggle input:checked+.w-12:after{transform:translateX(1.5rem)}
@media(max-width:640px){.toggle-button{padding:8px 12px;font-size:12px}.toggle-button span{font-size:11px}.context-menu{min-width:180px;max-width:calc(100vw - 32px)}.task-selector-menu{min-width:240px;max-width:calc(100vw - 24px)}.task-selector-header{padding:12px 14px 6px;font-size:14px}.task-selector-subtitle{padding:0 14px 10px;font-size:11px}.task-selector-item{padding:10px 12px;font-size:13px}.controls-row{flex-direction:column}.zoom-controls,.weekend-toggle{width:100%;justify-content:center}}
