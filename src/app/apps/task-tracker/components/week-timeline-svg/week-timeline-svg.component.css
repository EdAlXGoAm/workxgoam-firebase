/* Wrapper principal del componente */
.timeline-component-wrapper{display:flex;flex-direction:column;height:100%;width:100%}
.timeline-controls-section{flex-shrink:0;padding:8px;background:#f9fafb}
.week-timeline-container{flex:1;min-height:0;padding:8px;background:#f9fafb;border-radius:12px;box-shadow:0 1px 3px rgba(0,0,0,.1);position:relative;user-select:none;overflow:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:#c1c1c1 #f1f1f1}
.color-mode-toggle{backdrop-filter:blur(10px)}
.toggle-button{background:linear-gradient(135deg,#e5e7eb,#f3f4f6);color:#6b7280;border:2px solid transparent;cursor:pointer;user-select:none}
.toggle-button:hover{transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.1)}
.toggle-button:active{transform:translateY(0)}
.toggle-button.active-environment{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af;border-color:#3b82f6}
.toggle-button.active-tasktype{background:linear-gradient(135deg,#ddd6fe,#c4b5fd);color:#5b21b6;border-color:#8b5cf6}
.week-timeline-svg{display:block;background:#f9fafb;border-radius:12px;user-select:none;flex-shrink:0}
.week-timeline-svg text,.week-timeline-svg rect,.week-timeline-svg circle{user-select:none}
.week-timeline-svg text{pointer-events:none}
.task-rect{transition:filter .15s}
.task-rect:hover{filter:brightness(1.05)}
.task-inner,.task-type-indicator,.task-text{pointer-events:none}
.task-rect.cursor-grab{cursor:grab!important}
.task-rect.cursor-grabbing{cursor:grabbing!important}
.task-rect.cursor-resize-v{cursor:ns-resize!important}
.resize-handle{pointer-events:auto;cursor:ns-resize;opacity:.3;transition:opacity .2s,fill .2s}
.resize-handle:hover{opacity:1!important;fill:rgba(99,102,241,.6)!important}
.resize-handle-line{pointer-events:none;opacity:.3;transition:opacity .2s,stroke .2s}
.task-group:hover .resize-handle-line{opacity:.6;stroke:rgba(0,0,0,.5)}
.resize-handle:hover+.resize-handle-line{opacity:1!important;stroke:rgba(99,102,241,.9)!important;stroke-width:2px!important}
.week-navigation{backdrop-filter:blur(10px)}
.nav-btn{user-select:none;cursor:pointer;transition:all .2s}
.nav-btn:hover{transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.1)}
.nav-btn:active{transform:translateY(0)}
.week-display{min-width:200px;text-align:center;user-select:text!important}
.date-picker{min-width:120px;user-select:text!important}
.week-timeline-container::-webkit-scrollbar{width:6px;height:6px}
.week-timeline-container::-webkit-scrollbar-track,.task-selector-list::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}
.week-timeline-container::-webkit-scrollbar-thumb,.task-selector-list::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}
.week-timeline-container::-webkit-scrollbar-thumb:hover,.task-selector-list::-webkit-scrollbar-thumb:hover{background:#a8a8a8}
.tooltip-container{animation:fi .3s;pointer-events:auto;z-index:1000;border:2px solid rgba(255,255,255,.1);user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text}
@keyframes fi{from{opacity:0;transform:translateX(-50%) translateY(-10px)}to{opacity:1;transform:translateX(-50%)}}
.cursor-pointer:not(.task-rect):not(.task-inner){cursor:pointer}
.cursor-pointer:not(.task-rect):not(.task-inner):hover{opacity:.9;filter:brightness(1.1)}
.timeline-wrapper{display:flex;flex-direction:column;width:100%;min-width:fit-content;position:relative}
.days-indicator{width:100%;height:60px;flex-shrink:0;overflow:visible;position:sticky;top:0;z-index:10;background:#f9fafb;border-bottom:2px solid #e5e7eb}
.days-indicator-svg{display:block;height:60px;min-width:100%}
.timeline-content-wrapper{display:flex;width:100%;flex:1;position:relative}
.hours-indicator{width:60px;flex-shrink:0;overflow:hidden;position:sticky;left:0;z-index:10;background:#f9fafb;border-right:2px solid #e5e7eb}
.hours-indicator-svg{display:block;width:60px;min-height:100%;will-change:transform}
.svg-scroll-container{flex:1;width:100%;height:600px;max-height:calc(100vh - 300px);overflow:auto;position:relative;scrollbar-width:thin;scrollbar-color:#c1c1c1 #f1f1f1}
/* Wide layout (>=1650px): ajustar altura del contenedor de scroll para ocupar espacio disponible */
@media(min-width:1650px){.timeline-component-wrapper{height:100%}.week-timeline-container{display:flex;flex-direction:column}.timeline-wrapper{flex:1;display:flex;flex-direction:column;min-height:0}.timeline-content-wrapper{flex:1;min-height:0;display:flex}.svg-scroll-container{height:auto;max-height:100%;flex:1;min-height:0;overflow:auto}}
.svg-scroll-container::-webkit-scrollbar{width:8px;height:8px}
.svg-scroll-container::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}
.svg-scroll-container::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}
.svg-scroll-container::-webkit-scrollbar-thumb:hover{background:#a8a8a8}
.svg-container{width:100%;display:flex;justify-content:flex-start;min-width:fit-content}
@media(min-width:1280px){.svg-container{justify-content:center}}
.task-selector-divider{height:1px;background:#e5e7eb}
.task-hidden{opacity:.5}
.task-hidden text{fill:#888!important}
.preview-shadow{pointer-events:none}
.task-overdue{filter:drop-shadow(0 0 3px rgba(239,68,68,.5)) drop-shadow(0 0 6px rgba(239,68,68,.3))}
.task-running .task-rect{stroke:#10b981!important;stroke-width:4px!important}
.task-overlapping.task-overdue{filter:drop-shadow(0 0 2px rgba(239,68,68,.2)) drop-shadow(0 0 4px rgba(239,68,68,.12))}
.task-overlapping.task-running .task-rect{stroke:#10b981!important;stroke-width:3px!important}
.task-selector-menu{position:fixed;background:#fff;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.18);z-index:10001;min-width:280px;max-width:360px;overflow:hidden;animation:ts .2s}
@keyframes ts{from{opacity:0;transform:scale(.92) translateY(-8px)}to{opacity:1;transform:scale(1)}}
.task-selector-header{padding:14px 18px 8px;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;display:flex;align-items:center;font-size:15px}
.task-selector-subtitle{padding:0 18px 12px;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:rgba(255,255,255,.85);font-size:12px}
.task-selector-list{max-height:300px;overflow-y:auto;padding:8px 0}
.task-selector-item{width:100%;padding:12px 16px;text-align:left;border:none;background:#fff;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:14px;color:#374151;transition:all .15s;border-left:4px solid transparent}
.task-selector-item:hover{background:linear-gradient(90deg,rgba(99,102,241,.08),rgba(139,92,246,.04));transform:translateX(2px)}
.task-selector-item-content{flex:1;min-width:0}
.task-selector-item-name{font-weight:500;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}
.task-selector-item-time{font-size:11px;color:#6b7280}
.task-selector-item-icon{color:#9ca3af;font-size:12px;margin-left:12px;transition:all .15s}
.task-selector-item:hover .task-selector-item-icon{color:#6366f1;transform:translateY(-2px)}
.task-selector-list::-webkit-scrollbar{width:6px}
.controls-row{display:flex;flex-wrap:wrap;gap:.75rem}
.zoom-controls,.weekend-toggle{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#fff;border-radius:.5rem;box-shadow:0 1px 3px rgba(0,0,0,.1);border:1px solid #e5e7eb}
.weekend-toggle label{display:flex;align-items:center;gap:.5rem;cursor:pointer;user-select:none}
.weekend-toggle input[type="checkbox"]{appearance:none;-webkit-appearance:none;-moz-appearance:none}
.weekend-toggle .relative{position:relative;display:inline-block}
.weekend-toggle input.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}
.weekend-toggle input:checked+.w-12{background-color:#4f46e5}
.weekend-toggle input:checked+.w-12:after{transform:translateX(1.5rem)}
@media(max-width:640px){.toggle-button{padding:8px 12px;font-size:12px}.toggle-button span{font-size:11px}.task-selector-menu{min-width:240px;max-width:calc(100vw - 24px)}.task-selector-header{padding:12px 14px 6px;font-size:14px}.task-selector-subtitle{padding:0 14px 10px;font-size:11px}.task-selector-item{padding:10px 12px;font-size:13px}.controls-row{flex-direction:column}.zoom-controls,.weekend-toggle{width:100%;justify-content:center}}
/* Descripción de tarea con saltos de línea y límite de 3 líneas */
.task-description-clamp{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;white-space:pre-wrap;word-break:break-word;line-height:1.4}
