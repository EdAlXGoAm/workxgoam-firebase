<div class="context-menu-content">
  <div class="context-menu-header">
    <span class="text-lg mr-2">{{ task.emoji }}</span>
    <span class="font-semibold text-sm truncate">{{ task.name }}</span>
  </div>
  <div class="context-menu-divider"></div>
  <button class="context-menu-item" (click)="onCopyTitle()">
    <i class="fas fa-copy mr-2"></i>
    Copy Title
  </button>
  <button *ngIf="hasComplexGroup()" class="context-menu-item" (click)="onCopyComplexTitle()">
    <i class="fas fa-clipboard mr-2"></i>
    Copy Complex Title
  </button>
  <button *ngIf="hasComplexGroup()" class="context-menu-item" (click)="onCopyComplexTitleWithTitle()">
    <i class="fas fa-clipboard mr-2"></i>
    Copy Complex Title + Title
  </button>
  <div class="context-menu-divider"></div>
  <button class="context-menu-item context-menu-item-edit" (click)="onEdit()">
    <i class="fas fa-edit mr-2"></i>
    Editar tarea
  </button>
  <div class="context-menu-divider"></div>
  <button *ngIf="task.hidden" class="context-menu-item" (click)="onToggleHidden()">
    <i class="fas fa-eye mr-2"></i>
    Mostrar
  </button>
  <button *ngIf="!task.hidden" class="context-menu-item" (click)="onToggleHidden()">
    <i class="fas fa-eye-slash mr-2"></i>
    Ocultar
  </button>
  <div *ngIf="isOverdue || isRunning" class="context-menu-divider"></div>
  <button *ngIf="(isOverdue || isRunning) && task.status !== 'completed'" 
          class="context-menu-item context-menu-item-completed" 
          (click)="onChangeStatus('completed')">
    <i class="fas fa-check mr-2"></i>
    Marcar completada
  </button>
  <button *ngIf="(isOverdue || isRunning) && task.status !== 'in-progress'" 
          class="context-menu-item context-menu-item-progress" 
          (click)="onChangeStatus('in-progress')">
    <i class="fas fa-spinner mr-2"></i>
    Marcar en progreso
  </button>
  <button *ngIf="(isOverdue || isRunning) && task.status !== 'pending'" 
          class="context-menu-item context-menu-item-pending" 
          (click)="onChangeStatus('pending')">
    <i class="fas fa-play mr-2"></i>
    Marcar pendiente
  </button>
  <div class="context-menu-divider"></div>
  <button class="context-menu-item delete" (click)="onDelete()">
    <i class="fas fa-trash-alt mr-2"></i>
    Eliminar tarea
  </button>
</div>
